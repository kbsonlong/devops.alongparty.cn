[{"categories":null,"content":"Hey Welcome here ğŸ‘‹ ","date":"2022-05-24","objectID":"/about/:1:0","tags":null,"title":"","uri":"/about/"},{"categories":null,"content":"ç›®å‰æ­£åœ¨å­¦ä¹ Service Mesh ","date":"2022-05-24","objectID":"/about/:2:0","tags":null,"title":"","uri":"/about/"},{"categories":null,"content":"æ±‡ç¼–å’Œå·¥å…·: ğŸ›  Check for a detailed stats here :point_right: Sourcerer ","date":"2022-05-24","objectID":"/about/:3:0","tags":null,"title":"","uri":"/about/"},{"categories":["äº‘åŸç”Ÿ"],"content":"1é™æµ ","date":"2022-05-23","objectID":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/:0:0","tags":["istio"],"title":"Istioé˜²æ•…éšœåˆ©å™¨","uri":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/"},{"categories":["äº‘åŸç”Ÿ"],"content":"1.1ä»€ä¹ˆæ˜¯é™æµ â€‹ ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸ªæ¡¶ï¼Œæ¡¶é‡Œæœ‰ä¸¤ä¸ªå¼€å…³ï¼Œä¸€ä¸ªå¾€å¤–å‡ºæ°´ï¼Œä¸€ä¸ªç½‘å†…æ³¨æ°´ï¼Œå½“å‡ºæ°´çš„é€Ÿåº¦æ…¢äºæ³¨æ°´çš„é€Ÿåº¦æ—¶ï¼Œåˆ°ä¸€å®šæ—¶é—´æ°´å°±ä¼šä»æ¡¶é‡Œæº¢å‡ºã€‚å¦‚æœæˆ‘ä»¬é™åˆ¶æ³¨æ°´é€Ÿç‡ï¼Œå°±å¯ä»¥é˜²æ­¢æ°´ä»æ¡¶é‡Œæº¢å‡ºï¼Œè¿™å°±æ˜¯é™æµã€‚ â€‹ å…·ä½“åˆ°è½¯ä»¶å±‚é¢ï¼Œæˆ‘ä»¬æŠŠè¯·æ±‚é€Ÿç‡çœ‹åšæ˜¯æ³¨æ°´ï¼ŒæŠŠç³»ç»Ÿcpuï¼Œå†…å­˜ç­‰èµ„æºçœ‹åšæ˜¯æ”¾æ°´ï¼Œå½“è¯·æ±‚é€Ÿç‡è¿‡å¿«ï¼Œæ¶ˆè€—å¤ªå¤šèµ„æºæ—¶ç³»ç»Ÿå°±å¯èƒ½å´©æºƒã€‚è½¯ä»¶é™æµå°±æ˜¯é™åˆ¶tpsæˆ–qpsæŒ‡æ ‡ï¼Œä»¥è¾¾åˆ°ä¿æŠ¤ç³»ç»Ÿçš„ç›®çš„ï¼Œè™½ç„¶å¯èƒ½éƒ¨åˆ†ç”¨æˆ·æ— æ³•æœåŠ¡ï¼Œä½†æ˜¯ç³»ç»Ÿæ•´ä½“è¿˜æ˜¯å¥åº·çš„ï¼Œè¿˜å¯ä»¥å¯¹å¤–éƒ¨æä¾›æœåŠ¡ï¼Œä¸æ˜¯æ•´ä½“æŒ‚æ‰ã€‚ ","date":"2022-05-23","objectID":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/:1:0","tags":["istio"],"title":"Istioé˜²æ•…éšœåˆ©å™¨","uri":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/"},{"categories":["äº‘åŸç”Ÿ"],"content":"1.2é™æµç®—æ³• 1.2.1æ¼æ¡¶ç®—æ³• å°±åƒä¸€ä¸ªæ¼æ–—ä»¥ä¸‹ï¼Œä¸‹é¢å°ï¼Œä¸Šé¢å¤§ã€‚æ¼æ¡¶æµå‡ºçš„é€Ÿç‡è¢«é™åˆ¶åœ¨æ¯”è¾ƒå°çš„èŒƒå›´ï¼Œå½“æ¼æ¡¶æ»¡æ—¶ï¼Œæ¼æ¡¶å°±ä¼šæº¢å‡ºï¼Œè¿›æ¥çš„è¯·æ±‚å°±ä¼šè¢«æŠ›å¼ƒæ‰ã€‚ç‰¹åˆ«æ˜¯åº”å¯¹çªå‘æµé‡ï¼Œæ¼æ¡¶çš„é€Ÿç‡æ˜¯æ’å®šçš„ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆé˜²æ­¢åº”çªå‘æµé‡å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚ ","date":"2022-05-23","objectID":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/:2:0","tags":["istio"],"title":"Istioé˜²æ•…éšœåˆ©å™¨","uri":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/"},{"categories":["äº‘åŸç”Ÿ"],"content":"1.2.2ä»¤ç‰Œæ¡¶ç®—æ³• ä»¤ç‰Œæ¡¶ç®—æ³•çš„åŸç†ï¼Œå…³é”®åœ¨ä»¤ç‰Œï¼Œå®ƒæ˜¯æŒ‡å¾€æ¡¶é‡Œä»¥ä¸€ä¸ªä¸å˜çš„é€Ÿç‡æ”¾å…¥ä»¤ç‰Œï¼Œå½“æœ‰è¯·æ±‚æ—¶ï¼Œå¦‚æœæ¡¶é‡Œæœ‰ä»¤ç‰Œï¼Œè¯·æ±‚å°±æ¶ˆè´¹ä¸€ä¸ªä»¤ç‰Œï¼Œè¯·æ±‚ç»§ç»­è¿›è¡Œï¼›å½“è¯·æ±‚åˆ°æ¥ï¼Œæ¡¶é‡Œæ²¡æœ‰ä»¤ç‰Œæ—¶ï¼Œè¯·æ±‚å°±ä¼šè¢«æŠ›å¼ƒæ‰ï¼Œæ‹’ç»æœåŠ¡ï¼›å½“æ¡¶é‡Œçš„ä»¤ç‰Œæ»¡æ—¶ï¼Œä»¤ç‰Œå°±ä¼šè¢«æŠ›å¼ƒæ‰ã€‚ ","date":"2022-05-23","objectID":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/:2:1","tags":["istio"],"title":"Istioé˜²æ•…éšœåˆ©å™¨","uri":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/"},{"categories":["äº‘åŸç”Ÿ"],"content":"1.2.3è®¡æ•°å™¨ç®—æ³• è®¡æ•°å™¨ç®—æ³•æ˜¯æŒ‡ä¸€æ®µæ—¶é—´è®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå½“æœ‰è¯·æ±‚æ—¶è®¡æ•°å™¨å°±åŠ ä¸€ï¼Œè¯·æ±‚ç»§ç»­è¿›è¡Œï¼›åœ¨æŠ€æœ¯å™¨æ—¶é—´èŒƒå›´å†…ï¼Œå½“è®¡æ•°å™¨æ•°å€¼è¶…è¿‡æŒ‡å®šå€¼ï¼Œè¯·æ±‚å°±è¢«æ‹’ç»ï¼›å½“æ—¶é—´èŒƒå›´ç»“æŸï¼Œå°±é‡ç½®è®¡æ•°å™¨ã€‚æŠ€æœ¯å™¨ç®—æ³•æœ‰ä¸ªç¼ºé™·ï¼Œå°±æ˜¯å¦‚æœè®¡æ•°å™¨æ—¶é—´æ˜¯1åˆ†é’Ÿï¼Œå½“å‰1ç§’æ¥äº†å¤§é‡è¯·æ±‚ï¼Œè®²æŠ€æœ¯å™¨ç”¨å®Œäº†ï¼Œåç»­59ç§’æ—¶é—´å°±æ²¡æ³•æä¾›æœåŠ¡ã€‚ ","date":"2022-05-23","objectID":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/:2:2","tags":["istio"],"title":"Istioé˜²æ•…éšœåˆ©å™¨","uri":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/"},{"categories":["äº‘åŸç”Ÿ"],"content":"1.2å®æ“ ","date":"2022-05-23","objectID":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/:3:0","tags":["istio"],"title":"Istioé˜²æ•…éšœåˆ©å™¨","uri":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/"},{"categories":["äº‘åŸç”Ÿ"],"content":"1.2.1 http 1.2.1.1å•é›†ç¾¤ istioéƒ¨ç½²å’Œbookinfoå®ä¾‹éƒ¨ç½²å¤§å®¶è‡ªè¡Œå®Œæˆï¼Œéƒ½çœ‹è¿™ç§æ·±åº¦çš„æ–‡ç« äº†è¿™ä¸ªåº”è¯¥ä¸æ˜¯äº‹ã€‚ 1.2.1.1.1é›†ç¾¤å†…æœåŠ¡é™æµ 1.2.1.1.1.1æœ¬åœ°é™æµ cat \u003c\u003cEOF \u003e envoyfilter-local-rate-limit.yamlapiVersion:networking.istio.io/v1alpha3kind:EnvoyFiltermetadata:name:filter-local-ratelimit-svcspec:workloadSelector:labels:app:productpageconfigPatches:- applyTo:HTTP_FILTERmatch:listener:filterChain:filter:name:\"envoy.filters.network.http_connection_manager\"patch:operation:INSERT_BEFOREvalue:name:envoy.filters.http.local_ratelimittyped_config:\"@type\": type.googleapis.com/udpa.type.v1.TypedStructtype_url:type.googleapis.com/envoy.extensions.filters.http.local_ratelimit.v3.LocalRateLimitvalue:stat_prefix:http_local_rate_limitertoken_bucket:max_tokens:10tokens_per_fill:10fill_interval:60sfilter_enabled:runtime_key:local_rate_limit_enableddefault_value:numerator:100denominator:HUNDREDfilter_enforced:runtime_key:local_rate_limit_enforceddefault_value:numerator:100denominator:HUNDREDresponse_headers_to_add:- append:falseheader:key:x-local-rate-limitvalue:'true'EOF kubectl apply -f envoyfilter-local-rate-limit.yaml -n istio è¯´æ˜ï¼šæœ¬åœ°é™æµéœ€è¦é€šè¿‡EnvoyFilteræ¥å®ç°ï¼Œä»–ä¸ä¼šè¯·æ±‚å¤–éƒ¨æœåŠ¡ï¼Œåœ¨envoyå†…éƒ¨å®ç°æ”¯æŒï¼Œæ˜¯ä¸€ä¸ªä»¤ç‰Œæ¡¶çš„ç®—æ³•ã€‚http filterçš„åç§°å¿…é¡»æ˜¯envoy.filters.http.local_ratelimitï¼Œtypeå’Œtypeurlæ˜¯å›ºå®šçš„ï¼Œstat_prefixå¯ä»¥éšä¾¿æ”¹ï¼Œè¡¨ç¤ºç”Ÿæˆstatçš„æŒ‡æ ‡å‰ç¼€ã€‚token_bucketé…ç½®ä»¤ç‰Œæ¡¶ï¼Œmax_tokensè¡¨ç¤ºæœ€å¤§ä»¤ç‰Œæ•°é‡ï¼Œtokens_per_fillè¡¨ç¤ºæ¯æ¬¡å¡«å……çš„ä»¤ç‰Œæ•°é‡ï¼Œfill_intervalè¡¨ç¤ºå¡«å……ä»¤ç‰Œçš„é—´éš”ã€‚filter_enabledè¡¨ç¤ºå¯ç”¨ä½†ä¸æ˜¯å¼ºåˆ¶ï¼Œfilter_enforcedè¡¨ç¤ºå¼ºåˆ¶ï¼Œå¯ä»¥é…ç½®ç™¾åˆ†æ¯”ã€‚response_headers_to_addä¿®æ”¹å“åº”å¤´ä¿¡æ¯ï¼Œappendä¸ºfalseè¡¨ç¤ºä¿®æ”¹ï¼Œtrueè¡¨ç¤ºæ·»åŠ ã€‚runtime_key è¿è¡Œæ—¶çš„keyï¼Œå…·ä½“æœ‰å•¥ç”¨ä¸æ¸…æ¥šã€‚ æ‰§è¡Œå‹æµ‹ï¼š [root@node01 45]# go-stress-testing -c 10 -n 10000 -u http://192.168.229.134:30945/productpage å¼€å§‹å¯åŠ¨ å¹¶å‘æ•°:10 è¯·æ±‚æ•°:10000 è¯·æ±‚å‚æ•°: request: form:http url:http://192.168.229.134:30945/productpage method:GET headers:map[] data: verify:statusCode timeout:30s debug:false â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€ è€—æ—¶â”‚ å¹¶å‘æ•°â”‚ æˆåŠŸæ•°â”‚ å¤±è´¥æ•°â”‚ qps â”‚æœ€é•¿è€—æ—¶â”‚æœ€çŸ­è€—æ—¶â”‚å¹³å‡è€—æ—¶â”‚ä¸‹è½½å­—èŠ‚â”‚å­—èŠ‚æ¯ç§’â”‚ é”™è¯¯ç  â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€ 1sâ”‚ 7â”‚ 2â”‚ 761â”‚ 2.94â”‚ 124.68â”‚ 1.98â”‚ 3406.97â”‚ 21,476â”‚ 21,470â”‚200:2;429:761 2sâ”‚ 10â”‚ 5â”‚ 1636â”‚ 2.55â”‚ 1788.46â”‚ 1.98â”‚ 3928.11â”‚ 52,771â”‚ 26,383â”‚200:5;429:1636 3sâ”‚ 10â”‚ 5â”‚ 2962â”‚ 1.70â”‚ 1788.46â”‚ 1.04â”‚ 5871.68â”‚ 76,639â”‚ 25,545â”‚200:5;429:2962 4sâ”‚ 10â”‚ 5â”‚ 4459â”‚ 1.28â”‚ 1788.46â”‚ 1.04â”‚ 7810.78â”‚ 103,585â”‚ 25,896â”‚200:5;429:4459 429 Too Many Requests (å¤ªå¤šè¯·æ±‚) å½“ä½ éœ€è¦é™åˆ¶å®¢æˆ·ç«¯è¯·æ±‚æŸä¸ªæœåŠ¡çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯é™åˆ¶è¯·æ±‚é€Ÿåº¦æ—¶ï¼Œè¯¥çŠ¶æ€ç å°±ä¼šéå¸¸æœ‰ç”¨ æ¸…ç†ï¼š kubectl delete envoyfilter filter-local-ratelimit-svc -n istio 1.2.1.1.1.2å…¨å±€é™æµ éƒ¨ç½²ratelimit 1åˆ›å»ºcm cat \u003c\u003c EOF \u003e ratelimit-config.yamlapiVersion:v1kind:ConfigMapmetadata:name:ratelimit-configdata:config.yaml:|domain: productpage-ratelimit descriptors: - key: PATH value: \"/productpage\" rate_limit: unit: minute requests_per_unit: 1 - key: PATH rate_limit: unit: minute requests_per_unit: 100EOFkubectl apply -f ratelimit-config.yaml -n istio è¯´æ˜: è¿™ä¸ªconfigmapæ˜¯é™é€ŸæœåŠ¡ç”¨åˆ°çš„é…ç½®æ–‡ä»¶ï¼Œä»–æ˜¯envoy v3ç‰ˆæœ¬çš„é™é€Ÿæ ¼å¼ã€‚domainæ˜¯åŸŸåï¼Œä»–ä¼šåœ¨envoyfilterä¸­è¢«å¼•ç”¨ï¼Œdescriptorsçš„PATH,è¡¨ç¤ºè¯·æ±‚çš„è·¯å¾„å¯ä»¥æœ‰å¤šä¸ªå€¼ï¼Œrate_limité…ç½®é™é€Ÿé…é¢ï¼Œè¿™é‡Œproductpageé…äº†1åˆ†é’Ÿ1ä¸ªè¯·æ±‚ï¼Œå…¶ä»–urlæ˜¯1åˆ†é’Ÿ100ä¸ªè¯·æ±‚ 2åˆ›å»ºé™é€ŸæœåŠ¡deployment cat \u003c\u003c EOF \u003e ratelimit-deploy.yamlapiVersion:v1kind:Servicemetadata:name:redislabels:app:redisspec:ports:- name:redisport:6379selector:app:redis---apiVersion:apps/v1kind:Deploymentmetadata:name:redisspec:replicas:1selector:matchLabels:app:redistemplate:metadata:labels:app:redisspec:containers:- image:redis:alpineimagePullPolicy:Alwaysname:redisports:- name:rediscontainerPort:6379restartPolicy:AlwaysserviceAccountName:\"\"---apiVersion:v1kind:Servicemetadata:name:ratelimitlabels:app:ratelimitspec:ports:- name:http-portport:8080targetPort:8080protocol:TCP- name:grpc-portport:8081targetPort:8081protocol:TCP- name:http-debugport:6070targetPort:6070protocol:TCPselector:app:ratelimit---apiVersion:apps/v1kind:Deploymentmetadata:name:ratelimitspec:replicas:1selector:matchLabels:app:ratelimitstrategy:type:Recreatetemplate:metadata:labels:app:ratelimitspec:containers:- image:envoyproxy/ratelimit:6f5de117# 2021/01/08imagePullPolicy:Alwaysname:ratelimitcommand:[\"/bin/ratelimit\"]env:- name:LOG_LEVELvalue:debug- name:REDIS_SOCKET_TY","date":"2022-05-23","objectID":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/:3:1","tags":["istio"],"title":"Istioé˜²æ•…éšœåˆ©å™¨","uri":"/istio%E9%98%B2%E6%95%85%E9%9A%9C%E5%88%A9%E5%99%A8/"},{"categories":null,"content":"kbsonlong's friends","date":"2022-05-23","objectID":"/friends/","tags":null,"title":"","uri":"/friends/"},{"categories":null,"content":"Base info - nickname:èœ·ç¼©çš„èœ—ç‰›avatar:images/20220524130401.pngurl:https://www.alongparty.cndescription:è¿ç»´è‡ªåŠ¨åŒ– ","date":"2022-05-23","objectID":"/friends/:1:0","tags":null,"title":"","uri":"/friends/"},{"categories":null,"content":"Friendly Reminder Notice If you want to exchange link, please leave a comment in the above format. (personal non-commercial blogs / websites only) Â Website failure, stop maintenance and improper content may be unlinked! Those websites that do not respect other peopleâ€™s labor achievements, reprint without source, or malicious acts, please do not come to exchange. ","date":"2022-05-23","objectID":"/friends/:2:0","tags":null,"title":"","uri":"/friends/"},{"categories":["äº‘åŸç”Ÿ"],"content":"å‹æµ‹å¤§çº² å‹æµ‹çš„å¿…è¦æ€§ å‹æµ‹éƒ¨ç½²æ¶æ„å›¾ ç¯å¢ƒå‡†å¤‡ ","date":"2022-05-23","objectID":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/:0:0","tags":["istio"],"title":"Istioæ€§èƒ½æµ‹è¯•","uri":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"},{"categories":["äº‘åŸç”Ÿ"],"content":"éƒ¨ç½² Istio ","date":"2022-05-23","objectID":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/:1:0","tags":["istio"],"title":"Istioæ€§èƒ½æµ‹è¯•","uri":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"},{"categories":["äº‘åŸç”Ÿ"],"content":"éƒ¨ç½²ç›‘æ§ç»„ä»¶ ","date":"2022-05-23","objectID":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/:2:0","tags":["istio"],"title":"Istioæ€§èƒ½æµ‹è¯•","uri":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"},{"categories":["äº‘åŸç”Ÿ"],"content":"éƒ¨ç½²å‹æµ‹æœåŠ¡ ","date":"2022-05-23","objectID":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/:3:0","tags":["istio"],"title":"Istioæ€§èƒ½æµ‹è¯•","uri":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"},{"categories":["äº‘åŸç”Ÿ"],"content":"éƒ¨ç½²å‹æµ‹å·¥å…· æ€§èƒ½å‹æµ‹ å‹æµ‹æŠ¥å‘Š","date":"2022-05-23","objectID":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/:4:0","tags":["istio"],"title":"Istioæ€§èƒ½æµ‹è¯•","uri":"/istio%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"},{"categories":["hugo"],"content":"åˆ›å»ºGithub Actionsæµæ°´çº¿ mkdir -p .github/workflows/ touch hugo.yaml å‘å¸ƒåˆ°æœ¬ä»“åº“ name:GitHub Pages Deploy Local REPOSITORYon:push:branches:- master # Set a branch to deploypull_request:jobs:deploy:runs-on:ubuntu-20.04concurrency:group:${{ github.workflow }}-${{ github.ref }}steps:- uses:actions/checkout@v3with:submodules:true# Fetch Hugo themes (true OR recursive)fetch-depth:1# Fetch all history for .GitInfo and .Lastmod- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:'0.91.2'extended:true- name:Buildrun:hugo --minify- name:Deployuses:peaceiris/actions-gh-pages@v3with:github_token:${{ secrets.GITHUB_TOKEN }}publish_dir:./public å‘å¸ƒåˆ°å¦å¤–ä»“åº“ name:CI#è‡ªåŠ¨åŒ–çš„åç§°on:push:# pushçš„æ—¶å€™è§¦å‘branches:# é‚£äº›åˆ†æ”¯éœ€è¦è§¦å‘- masterjobs:deploy:runs-on:ubuntu-20.04steps:- uses:actions/checkout@v2with:submodules:true# Fetch Hugo themes (true OR recursive)fetch-depth:1# Fetch all history for .GitInfo and .Lastmod- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:'latest'extended:true- name:Buildrun:hugo --minify- name:Deployuses:peaceiris/actions-gh-pages@v3with:personal_token:${{ secrets.EXTERNAL_REPOSITORY_TOKEN }}publish_dir:./publicexternal_repository:kbsonlong/devops.alongparty.cn æ³¨æ„: å‘å¸ƒåˆ°æœ¬ä»“åº“github_tokenä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºGITHUB_TOKEN, å‘å¸ƒåˆ°å…¶ä»–ä»“åº“personal_tokenéœ€è¦æå‰åˆ›å»ºå¹¶é…ç½®secretå˜é‡ åˆ›å»ºSSHè¯ä¹¦ ssh-keygen -t rsa -b 4096 -C \"$(git config user.email)\" -f gh-pages -N \"\" é…ç½®SSHå…¬é’¥ é…ç½®SSHç§é’¥ ä½¿ç”¨SSHç§é’¥å‘å¸ƒ name:CI#è‡ªåŠ¨åŒ–çš„åç§°on:push:# pushçš„æ—¶å€™è§¦å‘branches:# é‚£äº›åˆ†æ”¯éœ€è¦è§¦å‘- masterjobs:deploy:runs-on:ubuntu-20.04steps:- uses:actions/checkout@v2with:submodules:true# Fetch Hugo themes (true OR recursive)fetch-depth:1# Fetch all history for .GitInfo and .Lastmod- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:'latest'extended:true- name:Buildrun:hugo --minify- name:Deploy with PRIVATE KEYuses:peaceiris/actions-gh-pages@v3with:cname:devops.alongparty.cnenv:ACTIONS_DEPLOY_KEY:${{ secrets.HUGO_DEPLOY_PRIVATE_KEY }}EXTERNAL_REPOSITORY:kbsonlong/devops.alongparty.cnPUBLISH_BRANCH:gh-pagesPUBLISH_DIR:./public æ³¨æ„: éƒ¨ç½²åˆ°å¦å¤–ä»“åº“æ—¶sshç§é’¥é…ç½®åœ¨æºä»“åº“, sshå…¬é’¥é…ç½®åœ¨ç›®æ ‡ä»“åº“æˆ–è€…å…¨å±€ ","date":"2022-05-23","objectID":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/:0:1","tags":["github actions"],"title":"Github Actionsè‡ªåŠ¨éƒ¨ç½²hugoåšå®¢","uri":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/"},{"categories":["hugo"],"content":"åˆ›å»ºGITHUB Personal TOKEN ","date":"2022-05-23","objectID":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/:0:2","tags":["github actions"],"title":"Github Actionsè‡ªåŠ¨éƒ¨ç½²hugoåšå®¢","uri":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/"},{"categories":["hugo"],"content":"åˆ›å»ºä»“åº“Secretså˜é‡ ","date":"2022-05-23","objectID":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/:0:3","tags":["github actions"],"title":"Github Actionsè‡ªåŠ¨éƒ¨ç½²hugoåšå®¢","uri":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/"},{"categories":["hugo"],"content":"Github Pageé…ç½®è‡ªå®šä¹‰åŸŸå echo \"\u003cè‡ªå®šä¹‰åŸŸå\u003e\" \u003estatic/CNAME ","date":"2022-05-23","objectID":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/:0:4","tags":["github actions"],"title":"Github Actionsè‡ªåŠ¨éƒ¨ç½²hugoåšå®¢","uri":"/github-actions%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E5%8D%9A%E5%AE%A2/"},{"categories":null,"content":"ç¦»çº¿ - èœ·ç¼©çš„èœ—ç‰›","date":"0001-01-01","objectID":"/offline/","tags":null,"title":"","uri":"/offline/"},{"categories":null,"content":"Hey Welcome here ğŸ‘‹ ","date":"0001-01-01","objectID":"/offline/:1:0","tags":null,"title":"","uri":"/offline/"},{"categories":null,"content":"ç›®å‰æ­£åœ¨å­¦ä¹ Service Mesh ","date":"0001-01-01","objectID":"/offline/:2:0","tags":null,"title":"","uri":"/offline/"},{"categories":null,"content":"æ±‡ç¼–å’Œå·¥å…·: ğŸ›  Check for a detailed stats here :point_right: Sourcerer ","date":"0001-01-01","objectID":"/offline/:3:0","tags":null,"title":"","uri":"/offline/"}]